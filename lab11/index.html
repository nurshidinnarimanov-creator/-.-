<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>–°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ ‚Äî React SPA</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f4f4f4;
        padding: 30px;
      }
      #root {
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        max-width: 500px;
        margin: 0 auto;
      }
      input {
        padding: 6px;
        font-size: 14px;
      }
      button {
        margin-left: 8px;
        padding: 6px 10px;
        background-color: #0078d7;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
      button:hover {
        background-color: #005fa3;
      }
      li {
        margin-bottom: 6px;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ React –∏ ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

    <!-- Babel ‚Äî —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–∏—Å–∞—Ç—å JSX –ø—Ä—è–º–æ –≤ HTML -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- –ù–∞—à React-–∫–æ–¥ -->
    <script type="text/babel">
      const { useState, useEffect } = React;

      // üìò –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ–æ—Ä–º—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–Ω–∏–≥–∏
      function BookForm({ addBook }) {
        const [title, setTitle] = useState('');

        const handleSubmit = (e) => {
          e.preventDefault();
          if (title.trim()) {
            addBook(title);
            setTitle('');
          }
        };

        return (
          <form onSubmit={handleSubmit} style={{ marginBottom: '15px' }}>
            <input
              type="text"
              placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏..."
              value={title}
              onChange={(e) => setTitle(e.target.value)}
            />
            <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
          </form>
        );
      }

      // üìö –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ –∫–Ω–∏–≥
      function BookList({ books, removeBook }) {
        return (
          <ul>
            {books.map((book) => (
              <li key={book.id}>
                {book.title}
                <button
                  onClick={() => removeBook(book.id)}
                  style={{ backgroundColor: '#d9534f', marginLeft: '10px' }}
                >
                  –£–¥–∞–ª–∏—Ç—å
                </button>
              </li>
            ))}
          </ul>
        );
      }

      // üß© –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
      function App() {
        const [books, setBooks] = useState(() => {
          const saved = localStorage.getItem('books');
          return saved ? JSON.parse(saved) : [];
        });

        useEffect(() => {
          localStorage.setItem('books', JSON.stringify(books));
        }, [books]);

        const addBook = (title) => {
          setBooks([...books, { id: Date.now(), title }]);
        };

        const removeBook = (id) => {
          setBooks(books.filter((b) => b.id !== id));
        };

        return (
          <div>
            <h1>üìö –ú–æ–π —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥</h1>
            <BookForm addBook={addBook} />
            {books.length > 0 ? (
              <BookList books={books} removeBook={removeBook} />
            ) : (
              <p>–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –∫–Ω–∏–≥—É!</p>
            )}
          </div>
        );
      }

      // ‚öôÔ∏è –†–µ–Ω–¥–µ—Ä–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
